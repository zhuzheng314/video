<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>video</title>
<!--    <script src="https://apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js"></script>-->
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
    <script src="./public/js/utils.js"></script>
</head>
<body>
    <div id="app">
        {{message}}
        <video
            :src="videoSrc"
            autoplay
            loop
            muted
        ></video>
    </div>
    <script>
        const kaichang1 = './public/video/big_1.mp4'
        const kaichang2 = './public/video/big_kaichang.mp4'



        let app = new Vue({
            el: '#app',
            data: {
                message: 'Hello Vue!',
                videoSrc: ''
            },
            methods: {
                tt () {
                    this.message += 1
                },
                handleChangeUrl() {
                    this.videoSrc === kaichang2 ? this.videoSrc = kaichang1 : this.videoSrc = kaichang2
                }
            },
            beforeCreate () {
                window.addEventListener('storage', (e) => {
                    console.log(e.key, 'beforeCreated')
                    if (e.key === 'handle') {
                        this.videoSrc = kaichang
                    }

                    this.handleChangeUrl()
                });
            },
            created () {
                // this.videoSrc = kaichang
                storageSet('video')
                window.addEventListener('storage', (e) => {
                    console.log(e, 'create')
                });
            }
        })

    </script>
    <style>
        * {
            margin: 0;
            padding: 0;
        }
        html, body{
            width: 100%;
            height: 100%;
            background: black;
        }
        #app {
            width: 100%;
            height: 100%;
        }
        video {
            width: 100%;
        }
    </style>
</body>
</html>
